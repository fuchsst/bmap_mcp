# BMAD MCP Server: Development Workflow

This document outlines how to integrate the BMAD MCP Server tools into your daily development workflow, enabling an AI-assisted approach to project management and execution based on the BMAD methodology.

## Core Principle: AI as a Pair Programmer & Project Assistant

The BMAD MCP Server allows your AI Coding Assistant (Cline, Claude Code, GitHub Copilot) to act as an intelligent partner that understands and helps execute BMAD processes. You'll interact with your assistant, guiding it to use the BMAD tools to generate artifacts, validate quality, and manage project state.

All artifacts generated by the tools are stored in the `.bmad` directory within your project root, managed by the server's `StateManager`.

## Typical BMAD Workflow with MCP Tools

Here's a common sequence of using BMAD tools, though the process is flexible and tools can be used iteratively as needed.

### 1. Project Initialization & Brief Creation

-   **Goal**: Define the project's vision, objectives, and high-level scope.
-   **Tool**: `create_project_brief`
-   **Interaction Example (with AI Assistant)**:
    ```
    You: "Let's start a new project. Create a project brief for an 'Online Learning Platform for Data Science'."
    AI Assistant: (Uses `create_project_brief` tool with topic="Online Learning Platform for Data Science", scope_level="standard")
    AI Assistant: "Okay, I've drafted the project brief. You can find it at .bmad/ideation/project_brief_online_learning_platform_for_data_science.md. Please review it."
    ```
-   **Outcome**: A structured project brief (`.bmad/ideation/project_brief_...md`) outlining the problem, vision, goals, target audience, and initial feature ideas.

### 2. Product Requirements Document (PRD) Generation

-   **Goal**: Translate the project brief into a detailed PRD with epics and user stories.
-   **Tool**: `generate_prd`
-   **Interaction Example**:
    ```
    You: "Based on the project brief we just created, generate a PRD. Let's go with standard technical depth."
    AI Assistant: (Reads the content of the project brief, then uses `generate_prd` tool with project_brief_content="...", technical_depth="standard")
    AI Assistant: "I've generated the PRD. It's located at .bmad/prd/prd_online_learning_platform.md. It includes initial epics and user story placeholders."
    ```
-   **Outcome**: A comprehensive PRD (`.bmad/prd/prd_...md`) with sections for goals, functional/non-functional requirements, technical assumptions, and an epic overview.

### 3. Requirements Validation

-   **Goal**: Ensure the PRD meets quality standards.
-   **Tool**: `validate_requirements` (often uses `pm_checklist.md`)
-   **Interaction Example**:
    ```
    You: "Validate the PRD we generated against the standard PM checklist."
    AI Assistant: (Reads PRD content, uses `validate_requirements` tool with prd_content="...", checklist_type="pm_checklist")
    AI Assistant: "Validation complete. The report is at .bmad/checklists/requirements_validation_pm_checklist.md. It passed 85% of checks, with recommendations for clarifying acceptance criteria in Epic 2."
    ```
-   **Outcome**: A validation report (`.bmad/checklists/requirements_validation_...md`) highlighting strengths and areas for improvement in the PRD. You might iterate on the PRD based on this feedback.

### 4. Architecture Design

-   **Goal**: Create a technical architecture based on the PRD.
-   **Tools**: `create_architecture`, `create_frontend_architecture`
-   **Interaction Example (Main Architecture)**:
    ```
    You: "Now, let's design the main technical architecture for the learning platform based on the PRD. For tech preferences, consider Python/FastAPI for the backend, PostgreSQL, and a microservices approach."
    AI Assistant: (Uses `create_architecture` tool with prd_content="...", tech_preferences={"backend_framework": "FastAPI", ...}, architecture_type="microservices")
    AI Assistant: "The main architecture document has been generated: .bmad/architecture/architecture_main.md."
    ```
-   **Interaction Example (Frontend Architecture)**:
    ```
    You: "Generate the frontend architecture. Let's prefer React and Redux for state management."
    AI Assistant: (Uses `create_frontend_architecture` tool with main_architecture="...", framework_preference="React", state_management="Redux")
    AI Assistant: "Frontend architecture is ready at .bmad/architecture/frontend_architecture_React.md."
    ```
-   **Outcome**: Detailed architecture documents (`.bmad/architecture/...`) covering system overview, components, technology stack, data models, etc.

### 5. Architecture Validation

-   **Goal**: Ensure the architecture documents are sound and complete.
-   **Tool**: `run_checklist` (with `architect_checklist.md` or `frontend_architecture_checklist.md`)
-   **Interaction Example**:
    ```
    You: "Run the architect checklist against the main architecture document."
    AI Assistant: (Uses `run_checklist` tool with document_content="...", checklist_name="architect_checklist")
    AI Assistant: "Architect checklist validation report is available at .bmad/checklists/validation_report_architect_checklist.md."
    ```
-   **Outcome**: Validation reports for architecture documents.

### 6. User Story Creation

-   **Goal**: Generate detailed, development-ready user stories based on PRD epics and architecture.
-   **Tool**: `create_next_story`
-   **Interaction Example**:
    ```
    You: "Let's create the first user story for Epic 1: User Registration, based on the PRD and architecture."
    AI Assistant: (Uses `create_next_story` tool with prd_content="...", architecture_content="...", current_progress={"current_epic": 1})
    AI Assistant: "User story 'As a new user, I want to register an account...' has been created: .bmad/stories/story_1_1.md. It includes acceptance criteria and technical notes."
    ```
    You would typically iterate this for multiple stories within an epic.
-   **Outcome**: Individual user story files (`.bmad/stories/story_...md`) ready for development.

### 7. Story Validation (Draft & DoD)

-   **Goal**: Ensure user stories are well-defined and meet the Definition of Done.
-   **Tool**: `validate_story` (uses `story_draft_checklist.md`, `story_dod_checklist.md`, `story_review_checklist.md`)
-   **Interaction Example (Draft Validation)**:
    ```
    You: "Validate the user story we just created (story_1_1.md) against the story draft checklist."
    AI Assistant: (Uses `validate_story` tool with story_content="...", checklist_types=["story_draft_checklist"])
    AI Assistant: "Story draft validation report: .bmad/checklists/story_validation_draft.md. The story is mostly clear, but could use more specific technical guidance for API endpoints."
    ```
-   **Outcome**: Validation reports ensuring stories are clear, testable, and complete.

### 8. Implementation & Iteration

-   Developers implement features based on the validated user stories.
-   The AI assistant can help with coding tasks, debugging, and generating unit tests.

### 9. Change Management

-   **Goal**: Handle changes in scope, requirements, or technical direction.
-   **Tool**: `correct_course`, `run_checklist` (with `change_checklist.md`)
-   **Interaction Example**:
    ```
    You: "We need to add a new feature: 'Gamification Badges'. This is a scope change. Analyze the impact and suggest a course correction plan."
    AI Assistant: (Uses `correct_course` tool with current_situation="...", desired_outcome="...", change_context={"change_type": "scope_change", ...})
    AI Assistant: "I've prepared a course correction plan: .bmad/decisions/course_correction_scope_change_....md. It outlines impacts on PRD, architecture, and existing stories."
    ```
-   **Outcome**: A documented plan for managing the change, including impact analysis and steps to integrate the change.

## Guiding Your AI Assistant with Project Instructions

To make your AI Coding Assistant even more effective with the BMAD MCP Server, you can provide project-specific instructions. These instructions help the assistant understand your project's context, conventions, and how to best utilize the BMAD tools. Different assistants use different files for this:

-   **Cline**: Uses a `.clinerules` file or files within a `.clinerules/` directory in your project root.
-   **GitHub Copilot**: Uses a `.github/copilot-instructions.md` file.
-   **Claude Code**: Can use a `CLAUDE.md` file (often initialized with `/init`) or custom slash commands stored in `.claude/commands/`.

These files are read by the assistant and used to augment its understanding and behavior for your specific project.

### What to Include in Your Project Instructions for BMAD MCP Server

Here are some examples of what you might include in your project-specific instruction files to guide the assistant in using BMAD tools:

```markdown
# BMAD MCP Server - Project Workflow Guidance

## General Principles
- Always aim for BMAD compliance.
- When generating artifacts, refer to existing documents in the .bmad/ directory for context.
- After generating a significant artifact (PRD, Architecture, Story), suggest running the relevant validation tool or checklist.

## Tool Usage Cues:

### Planning Phase:
- **To start a new project or define a high-level idea**:
  - "Use `create_project_brief` to outline the project: [your project topic/idea]."
  - Parameters to consider: `topic`, `target_audience`, `scope_level`.
- **To detail requirements based on a brief**:
  - "Use `generate_prd` based on the content of [path to project_brief.md]."
  - Parameters: `project_brief_content`, `workflow_mode`, `technical_depth`.
- **To check PRD quality**:
  - "Use `validate_requirements` on [path to prd.md] using the 'pm_checklist'."
  - Parameters: `prd_content`, `checklist_type`.

### Architecture Phase:
- **To design the main system architecture from a PRD**:
  - "Use `create_architecture` based on [path to prd.md]. Tech preferences: [e.g., FastAPI, PostgreSQL, Microservices]."
  - Parameters: `prd_content`, `tech_preferences`, `architecture_type`.
- **To design frontend architecture based on main architecture**:
  - "Use `create_frontend_architecture` based on [path to main_architecture.md]. UI framework: [e.g., React]."
  - Parameters: `main_architecture`, `ux_specification`, `framework_preference`.
- **To validate any architecture document**:
  - "Use `run_checklist` on [path to architecture_doc.md] with the 'architect_checklist' or 'frontend_architecture_checklist'."
  - Parameters: `document_content`, `checklist_name`.

### Story Development Phase:
- **To generate user stories from PRD and architecture**:
  - "Use `create_next_story` using [path to prd.md] and [path to architecture.md]. Focus on Epic [number]."
  - Parameters: `prd_content`, `architecture_content`, `current_progress`.
- **To validate a user story (draft, review, DoD)**:
  - "Use `validate_story` on [path to story.md] with checklist [story_draft_checklist/story_review_checklist/story_dod_checklist]."
  - Parameters: `story_content`, `checklist_types`, `story_phase`.

### Quality & Change Management:
- **To run a specific BMAD checklist on any document**:
  - "Use `run_checklist` on [path to document.md] with the '[checklist_name]' checklist."
  - Parameters: `document_content`, `checklist_name`.
- **When project direction/scope changes**:
  - "Use `correct_course` to analyze this situation: [describe current situation] and desired outcome: [describe desired outcome]. Change type: [e.g., scope_change]."
  - Parameters: `current_situation`, `desired_outcome`, `change_context`.

## Example for `.github/copilot-instructions.md`:

When working on this project, prioritize using the BMAD MCP tools for artifact generation and validation.
- For new features, start with `create_project_brief`.
- If a PRD exists, use `generate_prd` to expand it or `create_next_story` for development tasks.
- Before committing major design documents, use `run_checklist` with the appropriate checklist (e.g., `architect_checklist`).

## Example for `.clinerules` (or a file in `.clinerules/`):

# BMAD Workflow
This project follows the BMAD methodology. Utilize the connected BMAD MCP Server tools.

- Project Brief: `create_project_brief`
- PRD Generation: `generate_prd` (from brief)
- Architecture: `create_architecture` (from PRD), `create_frontend_architecture`
- User Stories: `create_next_story` (from PRD & arch)
- Validation: `validate_requirements`, `validate_story`, `run_checklist`
- Change Management: `correct_course`

Always refer to `.bmad/` for existing artifacts.
Ensure outputs are saved to the correct subdirectories within `.bmad/`.
```

By providing such instructions, you help the AI assistant understand the project's workflow and make better decisions about when and how to use the BMAD MCP Server tools, leading to a more efficient and consistent development process.

## General Usage Tips

-   **Iterative Process**: BMAD is agile. Don't expect to generate everything perfectly in one go. Use the tools iteratively, review outputs, and refine.
-   **Provide Context**: When prompting your AI assistant, provide clear context. Refer to existing artifacts (e.g., "Based on the PRD in `.bmad/prd/prd_main.md`...").
-   **Review and Edit**: AI-generated content is a strong starting point. Always review and edit artifacts to ensure they meet your project's specific needs and quality standards.
-   **Use Checklists**: The `run_checklist` tool is versatile. Use it with various BMAD checklists (`pm_checklist`, `architect_checklist`, etc.) at different stages to maintain quality.
-   **State Management**: The server automatically manages artifact paths and some metadata. Familiarize yourself with the `.bmad` directory structure.
-   **Custom Prompts**: For complex or nuanced tasks, you might need to guide your AI assistant with more detailed prompts, even when it's using a BMAD tool.

By following this workflow, you can leverage the BMAD MCP Server and your AI assistant to create a more structured, efficient, and high-quality development process.
